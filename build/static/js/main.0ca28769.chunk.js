(this.webpackJsonpicrowdtask=this.webpackJsonpicrowdtask||[]).push([[0],{44:function(e,t,a){e.exports=a(62)},62:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),o=a.n(c),l=a(23),i=a(42),u=a(7),s=a(29),m=a(35),f=a(28),E=function(e){var t=Object(n.useState)("Account"),a=Object(l.a)(t,2),c=a[0],o=a[1];Object(n.useEffect)((function(){e.user&&e.user.firstname&&o("".concat(e.user.firstname," ").concat(e.user.lastname))}),[e]);var i=r.a.createElement(r.a.Fragment,null,r.a.createElement(f.a.Divider,null),r.a.createElement(f.a.Item,{href:"/loggedout",onClick:e.logout},"Logout"));return r.a.createElement(s.a,{bg:"light",variant:"light"},r.a.createElement(s.a.Brand,{href:"#home"},"iCrowdTask"),r.a.createElement(s.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(s.a.Collapse,{id:"basic-navbar-nav"},r.a.createElement(m.a,{className:"mr-auto"},r.a.createElement(m.a.Link,{href:"#home"},"Tasks"),r.a.createElement(m.a.Link,{href:"#features"},"Find a Helper")),r.a.createElement(f.a,{title:c,id:"basic-nav-dropdown"},r.a.createElement(f.a.Item,{href:"/"},"Preferences"),e.loggedin&&i)))},h=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"These are the available tasks."))},d=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],c=t[1],o=Object(n.useState)(null),s=Object(l.a)(o,2),m=s[0],f=s[1],d=Object(n.useState)(!0),g=Object(l.a)(d,2),b=g[0],p=g[1];Object(n.useEffect)((function(){fetch("/api/user/",{credentials:"include"}).then((function(e){if(console.error(e),200===e.status)return e.json();v()})).then((function(e){console.error(e),e&&(c(!0),f(e))})).catch((function(e){console.error(e)})).finally((function(){return p(!1)}))}),[]);var v=function(){c(!1),fetch("/api/logout/",{method:"POST",credentials:"include"}).then((function(e){window.location.href="".concat(window.location.origin,"/api/reqlogin")}))};Object(n.useEffect)((function(){if(!b&&!a)return v()}),[b]);var j=function(e,t,a){console.log(e),console.log(t),a()};return r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,null,r.a.createElement(E,{loggedin:a,logout:v,user:m}),r.a.createElement("div",{className:"content"},r.a.createElement(u.a,{exact:!0,path:"/",component:h,onEnter:j}),r.a.createElement(u.a,{path:"/home",component:h,onEnter:j}))))};a(61);o.a.render(r.a.createElement(d,null),document.getElementById("root"))}},[[44,1,2]]]);
//# sourceMappingURL=main.0ca28769.chunk.js.map